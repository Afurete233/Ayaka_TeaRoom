(function(){"use strict";var t={9838:function(t,e,n){n(6992),n(8674),n(9601),n(7727);var a,o,i=n(144),r=n(4720),s=n.n(r),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"title",rawName:"v-title"}],attrs:{id:"app","data-title":"Ayaka TeaRoom"}},[n("Home")],1)},c=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.reload?n("div",[n("transition",{attrs:{name:"el-fade-in-linear"}},[5==t.item?n("div",{attrs:{id:"contnum"}},[n("el-button",{attrs:{type:"primary"},on:{click:t.goTop}},[t._v(t._s(t.contnum))])],1):t._e()]),n("el-container",[n("el-header",[t._v(t._s(t.APPName)),n("i",{staticClass:"el-icon-milk-tea"})]),n("el-container",[n("el-aside",{staticStyle:{width:"100px"},style:{background:t.bg_sw?"#ffffff00":"#333"}},[n("el-col",[n("el-menu",{staticClass:"el-menu-vertical-demo",staticStyle:{border:"none"},attrs:{"default-active":"1","background-color":"#00000000","text-color":"#2b597388","active-text-color":"#689fd2"}},[n("el-row",{attrs:{id:"Sun"}},[n("el-button",{attrs:{type:"info",icon:"el-icon-ice-cream-square",circle:""},on:{click:t.setbg}})],1),n("el-menu-item",{attrs:{index:"1"},on:{click:function(e){t.data_type="recommend",t.item=1}}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("开始")])]),n("el-menu-item",{attrs:{index:"2"},on:{click:function(e){t.data_type="update",t.item=2}}},[n("i",{staticClass:"el-icon-time"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("更新")])]),n("el-menu-item",{attrs:{index:"4"},on:{click:function(e){t.item=3}}},[n("i",{staticClass:"el-icon-ice-tea"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("时间表")])]),n("el-menu-item",{attrs:{index:"5"},on:{click:function(e){t.item=4}}},[n("i",{staticClass:"el-icon-search"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("搜索")])]),n("el-menu-item",{attrs:{index:"6"},on:{click:function(e){t.item=5}}},[n("i",{staticClass:"el-icon-cold-drink"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("收藏")])]),n("el-menu-item",{attrs:{index:"7"},on:{click:function(e){t.item=6}}},[n("i",{staticClass:"el-icon-setting"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("设置")])])],1)],1)],1),n("el-main",{style:{background:t.bg_sw?"#fff":"#333"}},[n("transition",{attrs:{name:"el-fade-in-linear"}},[1==t.item||2==t.item?n("Data",{key:t.item,attrs:{Data_type:t.data_type}}):t._e(),3==t.item?n("week"):t._e(),4==t.item?n("Search"):t._e(),5==t.item?n("Love",{on:{getcontnum:t.getcontnum}}):t._e(),6==t.item?n("Setting"):t._e()],1)],1)],1)],1)],1):t._e()},d=[],f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticStyle:{background:"#ffffff00"},attrs:{draggable:"false"}},[a("transition-group",{attrs:{name:"el-zoom-in-center"}},t._l(t.showdata,(function(e){return a("el-col",{key:e.AID,attrs:{xs:8,sm:6,md:4,lg:3,xl:3,draggable:"true",title:e.Title},nativeOn:{mousedown:function(e){return t.move.apply(null,arguments)},dragend:function(n){return t.up(e.AID,e.Title,e)}}},[a("a",{attrs:{href:t.mian_url+e.Href,target:"_blank"}},[a("el-card",{staticStyle:{border:"none"},attrs:{"body-style":{padding:"0px",background:t.type_color(e.AID)}}},[a("div",{staticStyle:{position:"relative"}},[a("img",{staticClass:"image",staticStyle:{"border-radius":"3px 3px 0px 0px"},attrs:{draggable:"false",src:e.PicSmall,width:"100%"}}),t.reload?a("transition",{attrs:{name:"el-fade-in-linear"}},[t.ishow(e.AID)?a("img",{attrs:{src:n(1038),id:"love"}}):t._e(),t.isBlack(e.AID)?a("div",{attrs:{id:"black"}},[t._v(" 黑名单 ")]):t._e()]):t._e(),a("span",{attrs:{id:"NewTitle"}},[t._v(t._s(e.NewTitle))])],1),a("div",{attrs:{id:"Title"}},[a("span",[t._v(t._s(e.Title))])])])],1)])})),1)],1)},m=[],p=(n(4660),n(1539),n(4747),n(9600),n(7042),n(4916),n(3123),n(9669)),h=n.n(p),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"info"}},[n("span",[t._v(t._s(t.msg))]),n("span",{style:{color:t.acg_colos[t.info_num]}},[t._v(t._s(t.acg_type[t.info_num]))])])},v=[],_=(n(9653),n(8862),n(3290),["#e62d73","#0089ff","#fff233","#19ffa8","#8600cc","#00024d","#fbd7be"]),w=["#e62d73","#0089ff","#b3a700","#19ffa8","#8600cc","#00024d","#c8a992"],y=["喜欢","准备看","没看完","已看完","不想看","黑名单","正在看"],S=Array(y.length).fill(!1),b="https://www.agemys.com",k={acg_colos:_,acg_type:y,type_sw:S,Main_url:b,acg_colos_info:w,methods:{}},A=k,x=n(1001),I=(0,x.Z)(A,a,o,!1,null,null,null),D=I.exports,T={name:"Info_",props:{info_json:[],info_AID:String,info_num:Number},data:function(){return{msg:"添加:",acg_type:D.acg_type,acg_colos:D.acg_colos_info}},mounted:function(){var t=0,e=-1,n=JSON.parse(window.localStorage.getItem(this.info_AID));null!=n?(t=n.love,e=n.type,0!=n.love&&this.info_num==n.love-1||0!=n.love&&this.info_num==n.love+6?(t=0,0!=n.type&&5!=n.type||(e=-1),this.msg="取消:"):(e=this.info_num,0==this.info_num?(t=1,e=n.type):5==this.info_num&&(t=-1,e=n.type),n.type==this.info_num&&(this.msg="取消:",e=-1))):(e=this.info_num,0==this.info_num?t=1:5==this.info_num&&(t=-1));var a={name:this.info_AID,type:e,love:t,Josn_Data:this.info_json};a=JSON.stringify(a),window.localStorage.setItem(this.info_AID,a)},methods:{}},N=T,O=(0,x.Z)(N,g,v,!1,null,null,null),$=O.exports,J={name:"Data_",Info_box:$,props:{Data_type:String},data:function(){return{josn_data:JSON,mian_url:D.Main_url,acg_colos:D.acg_colos,reload:!0,demo:!1,title:"",AID:0,showdata:[],sw:!0,MAXnum:20,page:1}},methods:{reshow:function(t){var e=JSON.parse(window.localStorage.getItem("type_sw"));if(null!=e){var n=JSON.parse(window.localStorage.getItem(t));if(null!=n){for(var a=0;a<e.length;a++)if(e[a]&&n.type==a)return!1;return!0}return!0}return!0},type_color:function(t){var e=JSON.parse(window.localStorage.getItem(t));if(null!=e)return-1==e.type||0==e.type||5==e.type?void 0:this.acg_colos[e.type]},reload_:function(){var t=this;this.reload=!1,this.$nextTick((function(){t.reload=!0}))},isBlack:function(t){var e=JSON.parse(window.localStorage.getItem(t));if(null!=e&&-1==e.love)return!0},ishow:function(t){var e=JSON.parse(window.localStorage.getItem(t));if(null!=e&&1==e.love)return!0},up:function(t,e,n){this.josn_data=n,this.AID=t,this.title=e},move:function(t){var e=this,n=this.$createElement,a=t.target,o=t.clientX-a.offsetLeft,i=t.clientY-a.offsetTop;document.ondragenter=function(t){var a=t.clientX-o,r=t.clientY-i;document.ondragend=function(){document.ondragenter=null,document.ondragend=null;var t=-1;a>80&&r<-80?t=6:a<-80&&r>80?t=5:a>80&&r>80?t=4:a>100&&a>r?t=0:a<-100&&a<r?t=1:r<-100&&r<a?t=2:r>100&&r>a&&(t=3),-1!=t&&e.$notify.info({title:"「"+e.title+"」",message:n($,{attrs:{info_num:t,info_AID:e.AID,info_json:e.josn_data}}),showClose:!1,duration:1e3}),e.reload_(),e.runstart(e.showdata,0)}}},runstart:function(t,e){var n=t;if(0==e&&(this.showdata=[]),null!=n)for(var a=0;a<n.length;a++)this.reshow(n[a].AID)&&(this.showdata=this.showdata.concat(n[a]))},autoadd:function(){if(document.querySelector("#app > div > section > section > main >div").offsetHeight<document.querySelector("#app > div > section > section > main ").offsetHeight&&20*this.page<this.MAXnum){var t=this;this.page++,h().get("https://api.agefans.app/v2/"+t.Data_type+"?page="+t.page+"&size=20").then((function(e){t.MAXnum=e.data.AllCnt,t.runstart(e.data.AniPre,1),t.sw=!0})).catch((function(e){console.log(e),t.errored=!0})).finally((function(){return t.loading=!1}))}},setatag:function(){this.$nextTick((function(){var t=document.querySelectorAll("a[href]");t.forEach((function(t){t.addEventListener("click",(function(){t.src=t.getAttribute("href")}))}))}))},reurl:function(t){var e=t.split("/").slice(2).join("/");return"https://"+e}},mounted:function(){var t=this,e=this;h().get("https://api.agefans.app/v2/"+this.Data_type+"?page=1&size=20").then((function(n){t.MAXnum=n.data.AllCnt,t.runstart(n.data.AniPre,1),setTimeout((function(){e.autoadd(),e.setatag()}),500)})).catch((function(e){console.log(e),t.errored=!0})).finally((function(){return t.loading=!1})),window.onresize=function(){t.autoadd()},document.querySelector("#app > div > section > section > main ").addEventListener("scroll",(function(){document.querySelector("#app > div > section > section > main").scrollTop+window.innerHeight>=document.querySelector("#app > div > section > section > main >div").offsetHeight&&20*e.page<e.MAXnum&&1==e.sw&&(e.page++,h().get("https://api.agefans.app/v2/"+e.Data_type+"?page="+e.page+"&size=20").then((function(t){e.MAXnum=t.data.AllCnt,e.runstart(t.data.AniPre,1),e.sw=!0})).catch((function(t){console.log(t),e.errored=!0})).finally((function(){return e.loading=!1})),e.sw=!1)}))}},j=J,M=(0,x.Z)(j,f,m,!1,null,null,null),X=M.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{attrs:{draggable:"false"}},[a("el-col",[a("Check_teyp",{on:{get_type:function(e){return t.get_type(e)}}})],1),a("transition-group",{attrs:{name:"el-zoom-in-center"}},t._l(t.showdata,(function(e){return a("el-col",{key:e.AID,attrs:{xs:8,sm:6,md:4,lg:3,xl:3,draggable:"true",title:e.Title},nativeOn:{mousedown:function(e){return t.move.apply(null,arguments)},dragend:function(n){return t.up(e.AID,e.Title,e)}}},[a("a",{attrs:{href:t.mian_url+e.Href,target:"_blank"}},[a("el-card",{staticStyle:{border:"none"},attrs:{"body-style":{padding:"0px",background:t.type_color(e.AID)}}},[a("div",{staticStyle:{position:"relative"}},[a("img",{staticClass:"image",staticStyle:{"border-radius":"3px 3px 0px 0px"},attrs:{draggable:"false",src:e.PicSmall,width:"100%"}}),t.reload?a("transition",{attrs:{name:"el-fade-in-linear"}},[t.ishow(e.AID)?a("img",{attrs:{src:n(1038),id:"love"}}):t._e(),t.isBlack(e.AID)?a("div",{attrs:{id:"black"}},[t._v(" 黑名单 ")]):t._e()]):t._e(),a("span",{attrs:{id:"NewTitle"}},[t._v(t._s(e.NewTitle))])],1),a("div",{attrs:{id:"Title"}},[a("span",[t._v(t._s(e.Title))])])])],1)])})),1)],1)},C=[],E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-radio-group",{model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},t._l(t.acg_type,(function(e,a){return n("el-radio",{key:a,staticClass:"radio",attrs:{label:a},on:{change:t.sendmsg}},[t._v(t._s(e))])})),1)},R=[],H={name:"CheckTeyp",data:function(){return{acg_type:D.acg_type,radio:0}},mounted:function(){},methods:{sendmsg:function(){this.$emit("get_type",this.radio)}}},P=H,L=(0,x.Z)(P,E,R,!1,null,"2eac2e48",null),z=L.exports,Z={components:{Check_teyp:z},name:"Love_",data:function(){return{mian_url:D.Main_url,acg_colos:D.acg_colos,See_type:0,josn_data:{},reload:!0,demo:!1,title:"",AID:0,showdata:[],sw:!0,MAXnum:20,itemnum:1,Allnum:0,nownum:1}},methods:{sendcontnum:function(){this.$emit("getcontnum",this.nownum-1)},type_color:function(t){var e=JSON.parse(window.localStorage.getItem(t));if(null!=e)return-1==e.type||0==e.type||5==e.type?void 0:this.acg_colos[e.type]},reload_:function(){var t=this;this.reload=!1,this.$nextTick((function(){t.reload=!0}))},isBlack:function(t){var e=JSON.parse(window.localStorage.getItem(t));if(null!=e&&-1==e.love)return!0},ishow:function(t){var e=JSON.parse(window.localStorage.getItem(t));if(null!=e&&1==e.love)return!0},up:function(t,e,n){this.AID=t,this.title=e,this.josn_data=n},redata:function(){for(var t=window.localStorage.length,e=this.Allnum;e<t;e++){this.Allnum++;var n=window.localStorage.key(e);if("type_sw"!=n&&"bg"!=n){var a=JSON.parse(window.localStorage.getItem(n));if(null!=a.Josn_Data){var o=!1;if((-1!=a.type||0!=a.love)&&(this.See_type==a.type?(this.showdata=this.showdata.concat(a.Josn_Data),o=!0):(0==this.See_type&&1==a.love&&(this.showdata=this.showdata.concat(a.Josn_Data),o=!0),5==this.See_type&&-1==a.love&&(this.showdata=this.showdata.concat(a.Josn_Data),o=!0)),o&&(this.itemnum++,this.nownum++,this.itemnum>=this.MAXnum)))return void this.itemnum}}}},move:function(t){var e=this,n=this.$createElement,a=t.target,o=t.clientX-a.offsetLeft,i=t.clientY-a.offsetTop;document.ondragenter=function(t){var a=t.clientX-o,r=t.clientY-i;document.ondragend=function(){document.ondragenter=null,document.ondragend=null;var t=-1;a>80&&r<-80?t=6:a<-80&&r>80?t=5:a>80&&r>80?t=4:a>100&&a>r?t=0:a<-100&&a<r?t=1:r<-100&&r<a?t=2:r>100&&r>a&&(t=3),-1!=t&&(e.reload_(),e.$notify.info({title:"「"+e.title+"」",message:n($,{attrs:{info_num:t,info_AID:e.AID,info_json:e.josn_data}}),showClose:!1,duration:1e3}),e.showdata=[],e.Allnum=0,e.itemnum=1,e.MAXnum=e.nownum,e.redata(),e.autoadd(),e.sendcontnum())}}},get_type:function(t){var e=this;this.showdata=[],this.nownum=1,this.itemnum=1,this.MAXnum=20,this.Allnum=0,this.See_type=t,this.$nextTick((function(){e.redata(),e.sendcontnum()}));var n=this;setTimeout((function(){n.autoadd()}),500)},autoadd:function(){document.querySelector("#app > div > section > section > main >div").offsetHeight<document.querySelector("#app > div > section > section > main ").offsetHeight&&(this.itemnum=1,this.redata(),this.sendcontnum())},reurl:function(t){var e=t.split("/").slice(2).join("/");return"https://"+e}},mounted:function(){var t=this,e=this;this.showdata=[],this.redata(),this.sendcontnum(),setTimeout((function(){e.autoadd()}),500),window.onresize=function(){t.autoadd()},document.querySelector("#app > div > section > section > main ").addEventListener("scroll",(function(){document.querySelector("#app > div > section > section > main").scrollTop+window.innerHeight>=document.querySelector("#app > div > section > section > main >div").offsetHeight&&(e.itemnum=1,e.redata(),e.sendcontnum())}))}},B=Z,Y=(0,x.Z)(B,q,C,!1,null,null,null),W=Y.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{attrs:{id:"setting"}},[n("el-col",{attrs:{span:10}},[n("transition-group",{attrs:{name:"el-fade-in-linear"}},[n("el-card",{key:0,attrs:{"body-style":{padding:"0px"}}},t._l(t.acg_type,(function(e,a){return n("el-col",{key:a},[n("el-switch",{on:{change:t.save_data},model:{value:t.type_sw[a],callback:function(e){t.$set(t.type_sw,a,e)},expression:"type_sw[index]"}}),n("span",[t._v("隐藏")]),n("span",{style:{color:t.acg_colos[a]}},[t._v(t._s(e))])],1)})),1),n("el-card",{key:3,attrs:{"body-style":{padding:"0px"}}},[n("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:t.deleteAll}},[t._v(" 清除所有")])],1)],1)],1),n("el-col",{attrs:{span:10}},[n("el-card",{key:1,attrs:{"body-style":{padding:"0px"}}},[n("el-upload",{staticClass:"upload-demo",attrs:{action:"#","on-exceed":t.handleExceed,"on-error":t.handlesuccess,"on-success":t.handlesuccess,multiple:"",limit:1}},[n("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),n("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("上传json文件")])],1)],1),n("el-card",{key:2,attrs:{"body-style":{padding:"0px"}}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-download"},on:{click:t.put_outJson}},[t._v(" 导出数据")])],1)],1)],1)},G=[],K=(n(8309),n(3162)),Q=n.n(K),U={name:"Setting_page",data:function(){return{uploadData:[],fileList:[],reload:!0,acg_colos:D.acg_colos,acg_type:D.acg_type,type_sw:D.type_sw}},mounted:function(){null!=window.localStorage.getItem("type_sw")&&(this.type_sw=JSON.parse(window.localStorage.getItem("type_sw")))},methods:{reload_:function(){var t=this;this.reload=!1,this.$nextTick((function(){t.reload=!0}))},save_data:function(){window.localStorage.setItem("type_sw",JSON.stringify(this.type_sw))},deleteAll:function(){var t=this;this.$confirm("此操作将永久清除所有内容, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){window.localStorage.clear(),location.reload(),t.$message({type:"success",message:"删除成功!"})})).catch((function(){t.$message({type:"info",message:"已取消删除"})}))},put_outJson:function(){for(var t=window.localStorage.length,e=[],n=0;n<t;n++){var a=window.localStorage.key(n);"type_sw"!=a&&"bg"!=a&&(e=e.concat(JSON.parse(window.localStorage.getItem(a))))}e=JSON.stringify(e);var o=new Blob([e],{type:"application/json"});Q().saveAs(o,"备份.json")},handlesuccess:function(t,e){var n=this,a=new FileReader;a.readAsText(e.raw),a.onload=function(t){n.uploadData=[],n.uploadData=JSON.parse(t.target.result),n.$nextTick((function(){window.localStorage.clear();for(var t=0;t<n.uploadData.length;t++)window.localStorage.setItem(n.uploadData[t].name,JSON.stringify(n.uploadData[t]));n.$message({message:"数据导入成功",type:"success"})}))}},handleExceed:function(){this.$message.warning("只能选择 1 个文件")}}},V=U,tt=(0,x.Z)(V,F,G,!1,null,"ccff55c0",null),et=tt.exports,nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{attrs:{draggable:"false"}},[a("search-start",{on:{StartSearch:function(e){return t.StartSearch(e)}}}),a("transition-group",{attrs:{name:"el-zoom-in-center"}},t._l(t.showdata,(function(e){return a("el-col",{key:e.AID,attrs:{xs:8,sm:6,md:4,lg:3,xl:3,draggable:"true",title:e.R动画名称},nativeOn:{mousedown:function(e){return t.move.apply(null,arguments)},dragend:function(n){return t.up(e.AID,e.R动画名称,e)}}},[a("a",{attrs:{href:t.mian_url+"/detail/"+e.AID,target:"_blank"}},[a("el-card",{staticStyle:{border:"none"},attrs:{"body-style":{padding:"0px",background:t.type_color(e.AID)}}},[a("div",{staticStyle:{position:"relative"}},[a("img",{staticClass:"image",staticStyle:{"border-radius":"3px 3px 0px 0px"},attrs:{draggable:"false",src:e.R封面图小,width:"100%"}}),t.reload?a("transition",{attrs:{name:"el-fade-in-linear"}},[t.ishow(e.AID)?a("img",{attrs:{src:n(1038),id:"love"}}):t._e(),t.isBlack(e.AID)?a("div",{attrs:{id:"black"}},[t._v(" 黑名单 ")]):t._e()]):t._e(),a("span",{attrs:{id:"NewTitle"}},[t._v(t._s(e.R新番标题))])],1),a("div",{attrs:{id:"Title"}},[a("span",[t._v(t._s(e.R动画名称))])])])],1)])})),1)],1)},at=[],ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-col",[n("el-input",{staticStyle:{width:"40%","min-width":"300px"},attrs:{placeholder:"请输入内容"},on:{change:t.StartSearch},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),n("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:t.StartSearch}})],1)},it=[],rt={name:"Search_start",data:function(){return{keyword:"",old_keyworld:String}},mounted:function(){},methods:{StartSearch:function(){this.keyword!=this.old_keyworld&&""!=this.keyword&&(this.old_keyworld=this.keyword,this.$emit("StartSearch",this.keyword))}}},st=rt,lt=(0,x.Z)(st,ot,it,!1,null,"13e18c9a",null),ct=lt.exports,ut={components:{SearchStart:ct},name:"Search_",Info_box:$,props:{Data_type:String},data:function(){return{josn_data:JSON,mian_url:D.Main_url,acg_colos:D.acg_colos,reload:!0,demo:!1,title:"",AID:0,showdata:[],sw:!0,MAXnum:24,page:1,Search_word:""}},methods:{StartSearch:function(t){var e=this;this.showdata=[],this.MAXnum=24,this.page=1;var n=this;n.Search_word=t,h().get("https://api.agefans.app/v2/search?query="+n.Search_word+"&page="+n.page).then((function(t){"ipchk:操作太频繁 请稍后再试"==t.data&&n.$message({message:"操作太频繁 请稍后再试",type:"warning",duration:1e3}),e.MAXnum=t.data.SeaCnt,e.runstart(t.data.AniPreL,1),setTimeout((function(){n.autoadd(),n.setatag()}),500)})).catch((function(t){console.log(t),e.errored=!0})).finally((function(){return e.loading=!1}))},reshow:function(t){var e=JSON.parse(window.localStorage.getItem("type_sw"));if(null!=e){var n=JSON.parse(window.localStorage.getItem(t));if(null!=n){for(var a=0;a<e.length;a++)if(e[a]&&n.type==a)return!1;return!0}return!0}return!0},type_color:function(t){var e=JSON.parse(window.localStorage.getItem(t));if(null!=e)return-1==e.type||0==e.type||5==e.type?void 0:this.acg_colos[e.type]},reload_:function(){var t=this;this.reload=!1,this.$nextTick((function(){t.reload=!0}))},isBlack:function(t){var e=JSON.parse(window.localStorage.getItem(t));if(null!=e&&-1==e.love)return!0},ishow:function(t){var e=JSON.parse(window.localStorage.getItem(t));if(null!=e&&1==e.love)return!0},up:function(t,e,n){var a={AID:t,Title:e,NewTitle:n.R新番标题,PicSmall:n.R封面图小,Href:"/detail/"+t};this.josn_data=a,this.AID=t,this.title=e},move:function(t){var e=this,n=this.$createElement,a=t.target,o=t.clientX-a.offsetLeft,i=t.clientY-a.offsetTop;document.ondragenter=function(t){var a=t.clientX-o,r=t.clientY-i;document.ondragend=function(){document.ondragenter=null,document.ondragend=null;var t=-1;a>80&&r<-80?t=6:a<-80&&r>80?t=5:a>80&&r>80?t=4:a>100&&a>r?t=0:a<-100&&a<r?t=1:r<-100&&r<a?t=2:r>100&&r>a&&(t=3),-1!=t&&e.$notify.info({title:"「"+e.title+"」",message:n($,{attrs:{info_num:t,info_AID:e.AID,info_json:e.josn_data}}),showClose:!1,duration:1e3}),e.reload_(),e.runstart(e.showdata,0)}}},runstart:function(t,e){var n=t;if(0==e&&(this.showdata=[]),null!=n)for(var a=0;a<n.length;a++)this.reshow(n[a].AID)&&(this.showdata=this.showdata.concat(n[a]))},autoadd:function(){if(document.querySelector("#app > div > section > section > main >div").offsetHeight<document.querySelector("#app > div > section > section > main ").offsetHeight&&24*this.page<this.MAXnum){var t=this;this.page++,h().get("https://api.agefans.app/v2/search?query="+t.Search_word+"&page="+t.page).then((function(e){t.MAXnum=e.data.SeaCnt,t.runstart(e.data.AniPreL,1),t.sw=!0})).catch((function(e){console.log(e),t.errored=!0})).finally((function(){return t.loading=!1}))}},setatag:function(){this.$nextTick((function(){var t=document.querySelectorAll("a[href]");t.forEach((function(t){t.addEventListener("click",(function(){t.src=t.getAttribute("href")}))}))}))},reurl:function(t){var e=t.split("/").slice(2).join("/");return"https://"+e}},mounted:function(){var t=this,e=this;window.onresize=function(){""!=t.Search_word&&t.autoadd()},document.querySelector("#app > div > section > section > main ").addEventListener("scroll",(function(){document.querySelector("#app > div > section > section > main").scrollTop+window.innerHeight>=document.querySelector("#app > div > section > section > main >div").offsetHeight&&24*e.page<e.MAXnum&&1==e.sw&&(e.page++,h().get("https://api.agefans.app/v2/search?query="+e.Search_word+"&page="+e.page).then((function(t){e.MAXnum=t.data.SeaCnt,e.runstart(t.data.AniPreL,1),e.sw=!0})).catch((function(t){console.log(t),e.errored=!0})).finally((function(){return e.loading=!1})),e.sw=!1)}))}},dt=ut,ft=(0,x.Z)(dt,nt,at,!1,null,null,null),mt=ft.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("week-tab",{attrs:{weeknum:t.weeks},on:{gettab:function(e){return t.gettab(e)}}}),a("transition",{attrs:{name:"el-fade-in"}},[a("el-col",[a("el-timeline",[a("transition-group",{attrs:{name:"el-zoom-in-top"}},t._l(t.showdata,(function(e,o){return a("el-timeline-item",{key:o,attrs:{timestamp:e.R更新时间str,placement:"top",draggable:"false",type:"primary",title:e.R动画名称}},[a("a",{attrs:{href:t.mian_url+"/detail/"+e.AID,target:"_blank"}},[t.reload?a("el-card",{staticStyle:{border:"none"},style:{background:t.type_color(e.AID)},attrs:{draggable:"false","body-style":{padding:"0px",background:t.type_color(e.AID)}}},[a("el-col",{attrs:{xs:8,sm:6,md:4,lg:3,xl:3,draggable:"true"},nativeOn:{mousedown:function(e){return t.move.apply(null,arguments)},dragend:function(n){return t.up(e.AID,e.R动画名称,e)}}},[a("el-card",{staticStyle:{border:"none"},attrs:{draggable:"true","body-style":{padding:"0px"}}},[a("div",{staticStyle:{position:"relative"}},[a("img",{staticClass:"image",staticStyle:{"border-radius":"3px 3px 0px 0px"},attrs:{draggable:"false",src:e.R封面图小,width:"100%"}}),t.reload?a("transition",{attrs:{name:"el-fade-in-linear"}},[t.ishow(e.AID)?a("img",{attrs:{src:n(1038),id:"love"}}):t._e(),t.isBlack(e.id)?a("div",{attrs:{id:"black"}},[t._v(" 黑名单 ")]):t._e()]):t._e(),a("span",{attrs:{id:"NewTitle"}},[t._v(t._s(e.R新番标题))])],1),a("div",{attrs:{id:"Title"}},[a("span",[t._v(t._s(e.R动画名称))])])])],1),a("h4",{attrs:{id:"Title"}},[t._v(t._s(e.R动画名称))]),a("p",{attrs:{id:"Rjiessao"}},[t._v(t._s(e.R简介))])],1):t._e()],1)])})),1)],1)],1)],1)],1)},ht=[],gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-tabs",{on:{"tab-click":t.sendtab},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.week,(function(t,e){return n("el-tab-pane",{key:e,attrs:{label:t,name:e+""}})})),1)],1)},vt=[],_t={name:"WeekTab",props:{weeknum:String},data:function(){return{week:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],activeName:this.weeknum}},mounted:function(){},methods:{sendtab:function(t){t.index!=this.weeknum&&this.$emit("gettab",t.index)}}},wt=_t,yt=(0,x.Z)(wt,gt,vt,!1,null,"18df84f5",null),St=yt.exports,bt={components:{WeekTab:St},name:"EveryWeek",data:function(){return{mian_url:D.Main_url,acg_colos:D.acg_colos,save:[],saveimg:[],weeks:this.getweekday(),reload:!0,title:"",AID:0,showdata:[],josn_data:[],MAXnum:20,nownum:0,contnum:0,NowRuning:!0}},mounted:function(){var t=this,e=this;this.nownum=0,this.MAXnum=5,h().get("https://api.agefans.app/v2/home-list?update=1&recommend=1").then((function(n){e.save=n.data.XinfansInfo,t.$nextTick((function(){t.NowRuning=!1,e.loding()}))})).catch((function(e){console.log(e),t.errored=!0})).finally((function(){return t.loading=!1})),setTimeout((function(){e.NowRuning&&e.autoadd()}),500),window.onresize=function(){t.NowRuning&&t.autoadd()},document.querySelector("#app > div > section > section > main ").addEventListener("scroll",(function(){document.querySelector("#app > div > section > section > main").scrollTop+window.innerHeight>=document.querySelector("#app > div > section > section > main > div > div.el-col.el-col-24").offsetHeight&&e.regetdata()}))},methods:{autoadd:function(t){null==t&&(t=0),document.querySelector("#app > div > section > section > main > div > div.el-col.el-col-24").offsetHeight<document.querySelector("#app > div > section > section > main").offsetHeight+t&&this.regetdata()},getweekday:function(){var t=(new Date).getDay();return String(t)},move:function(t){var e=this,n=this.$createElement,a=t.target,o=t.clientX-a.offsetLeft,i=t.clientY-a.offsetTop;document.ondragenter=function(t){var a=t.clientX-o,r=t.clientY-i;document.ondragend=function(){document.ondragenter=null,document.ondragend=null;var t=-1;a>80&&r<-80?t=6:a<-80&&r>80?t=5:a>80&&r>80?t=4:a>100&&a>r?t=0:a<-100&&a<r?t=1:r<-100&&r<a?t=2:r>100&&r>a&&(t=3),-1!=t&&(e.reload_(),e.$notify.info({title:"「"+e.title+"」",message:n($,{attrs:{info_num:t,info_AID:e.AID,info_json:e.josn_data}}),showClose:!1,duration:1e3}),e.runstart(e.showdata,0),e.NowRuning&&e.autoadd(300))}}},up:function(t,e,n){var a={AID:t,Title:e,NewTitle:n.R新番标题,PicSmall:n.R封面图小,Href:"/detail/"+t};this.josn_data=a,this.AID=t,this.title=e},reload_:function(){var t=this;this.reload=!1,this.$nextTick((function(){t.reload=!0}))},runstart:function(t,e){var n=t;if(0==e&&(this.showdata=[]),null!=n)for(var a=0;a<n.length;a++)this.reshow(n[a].AID)&&(this.showdata=this.showdata.concat(n[a]))},reshow:function(t){var e=JSON.parse(window.localStorage.getItem("type_sw"));if(null!=e){var n=JSON.parse(window.localStorage.getItem(t));if(null!=n){for(var a=0;a<e.length;a++)if(e[a]&&n.type==a)return!1;return!0}return!0}return!0},type_color:function(t){var e=JSON.parse(window.localStorage.getItem(t));if(null!=e)return-1==e.type||0==e.type||5==e.type?void 0:this.acg_colos[e.type]},isBlack:function(t){var e=JSON.parse(window.localStorage.getItem(t));if(null!=e&&-1==e.love)return!0},ishow:function(t){var e=JSON.parse(window.localStorage.getItem(t));if(null!=e&&1==e.love)return!0},gettab:function(t){this.showdata=[],this.saveimg=[],this.nownum=0,this.MAXnum=5,this.weeks=String(t),this.loding()},loding:function(){for(var t=0;t<this.save.length;t++)this.save[t].wd==this.weeks&&(this.contnum++,this.saveimg=this.saveimg.concat(this.save[t]));this.regetdata(),this.NowRuning=!0},regetdata:function(){for(var t=this.nownum;t<this.saveimg.length;t++)if(this.getimg(this.saveimg[t].id),this.nownum++,this.nownum>=this.MAXnum)return void(this.MAXnum+=5)},getimg:function(t){var e=this,n=this;h().get("https://api.agefans.app/v2/detail/"+t).then((function(t){n.showdata=n.showdata.concat(t.data.AniInfo),e.runstart(e.showdata,0)})).catch((function(t){console.log(t),e.errored=!0})).finally((function(){return e.loading=!1}))}}},kt=bt,At=(0,x.Z)(kt,pt,ht,!1,null,"768a68da",null),xt=At.exports,It={name:"Home_M",data:function(){return{APPName:"白鷺茶室",data_type:"recommend",item:1,reload:!0,bg_sw:!0,contnum:0}},components:{Data:X,Love:W,Setting:et,Search:mt,Week:xt},methods:{getcontnum:function(t){this.contnum=t},setbg:function(){this.bg_sw=!this.bg_sw},goTop:function(){var t=document.querySelector("#app > div > section > section > main > div").scrollTop||document.querySelector("#app > div > section > section > main").scrollTop,e=setInterval((function(){document.querySelector("#app > div > section > section > main ").scrollTop=document.querySelector("#app > div > section > section > main > div").scrollTop=t-=50,t<=0&&clearInterval(e)}),5)}},mounted:function(){}},Dt=It,Tt=(0,x.Z)(Dt,u,d,!1,null,"2b100c36",null),Nt=Tt.exports,Ot={name:"App",components:{Home:Nt},data:function(){return{}},mounted:function(){}},$t=Ot,Jt=(0,x.Z)($t,l,c,!1,null,null,null),jt=Jt.exports,Mt=n(3748),Xt=n.n(Mt);i["default"].use(s()),i["default"].use(Xt()),i["default"].config.productionTip=!1,i["default"].directive("title",{inserted:function(t){document.title=t.dataset.title}}),new i["default"]({render:function(t){return t(jt)}}).$mount("#app")},1038:function(t,e,n){t.exports=n.p+"img/heart.9028b26f.svg"}},e={};function n(a){var o=e[a];if(void 0!==o)return o.exports;var i=e[a]={exports:{}};return t[a].call(i.exports,i,i.exports,n),i.exports}n.m=t,function(){var t=[];n.O=function(e,a,o,i){if(!a){var r=1/0;for(u=0;u<t.length;u++){a=t[u][0],o=t[u][1],i=t[u][2];for(var s=!0,l=0;l<a.length;l++)(!1&i||r>=i)&&Object.keys(n.O).every((function(t){return n.O[t](a[l])}))?a.splice(l--,1):(s=!1,i<r&&(r=i));if(s){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}i=i||0;for(var u=t.length;u>0&&t[u-1][2]>i;u--)t[u]=t[u-1];t[u]=[a,o,i]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var o,i,r=a[0],s=a[1],l=a[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)var u=l(n)}for(e&&e(a);c<r.length;c++)i=r[c],n.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return n.O(u)},a=self["webpackChunkayaka_tearoom"]=self["webpackChunkayaka_tearoom"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(9838)}));a=n.O(a)})();
//# sourceMappingURL=app-legacy.c8be2ecd.js.map