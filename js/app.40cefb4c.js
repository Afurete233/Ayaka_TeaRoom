(function(){"use strict";var t={6846:function(t,e,a){var n=a(144),o=a(4720),i=a.n(o),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"title",rawName:"v-title"}],attrs:{id:"app","data-title":"Ayaka TeaRoom"}},[a("Home")],1)},l=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.reload?a("div",[a("el-container",[a("el-header",[t._v(t._s(t.APPName)),a("i",{staticClass:"el-icon-milk-tea"})]),a("el-container",[a("el-aside",{staticStyle:{width:"100px"},style:{background:t.bg_sw?"#fff":"#333"}},[a("el-col",[a("el-menu",{staticClass:"el-menu-vertical-demo",staticStyle:{border:"none"},attrs:{"default-active":"1","background-color":"#00000000","text-color":"#2b597388","active-text-color":"#689fd2"}},[a("el-row",{attrs:{id:"Sun"}},[a("el-button",{attrs:{type:"info",icon:"el-icon-ice-cream-square",circle:""},on:{click:t.setbg}})],1),a("el-menu-item",{attrs:{index:"1"},on:{click:function(e){t.data_type="recommend",t.item=1}}},[a("i",{staticClass:"el-icon-menu"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("开始")])]),a("el-menu-item",{attrs:{index:"2"},on:{click:function(e){t.data_type="update",t.item=2}}},[a("i",{staticClass:"el-icon-time"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("更新")])]),a("el-menu-item",{attrs:{index:"3"},on:{click:function(e){t.item=3}}},[a("i",{staticClass:"el-icon-cold-drink"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("收藏")])]),a("el-menu-item",{attrs:{index:"4"},on:{click:function(e){t.item=4}}},[a("i",{staticClass:"el-icon-setting"}),a("span",{attrs:{slot:"title"},slot:"title"},[t._v("设置")])])],1)],1)],1),a("el-main",{style:{background:t.bg_sw?"#fff":"#333"}},[a("transition",{attrs:{name:"el-fade-in-linear"}},[3==t.item?a("Love"):t._e(),1==t.item||2==t.item?a("Data",{key:t.item,attrs:{Data_type:t.data_type}}):t._e(),4==t.item?a("Setting"):t._e()],1)],1)],1)],1)],1):t._e()},c=[],d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{attrs:{draggable:"false"}},[n("transition-group",{attrs:{name:"el-zoom-in-center"}},t._l(t.showdata,(function(e){return n("el-col",{key:e.AID,attrs:{span:3,draggable:"true"},nativeOn:{mousedown:function(e){return t.move.apply(null,arguments)},dragend:function(a){return t.up(e.AID,e.Title,e)}}},[n("a",{attrs:{href:t.mian_url+e.Href,target:"_blank"}},[n("el-card",{staticStyle:{border:"none"},attrs:{"body-style":{padding:"0px",background:t.type_color(e.AID)}}},[n("div",{staticStyle:{position:"relative"}},[n("img",{staticClass:"image",staticStyle:{"border-radius":"3px 3px 0px 0px"},attrs:{draggable:"false",src:e.PicSmall,width:"100%"}}),t.reload?n("transition",{attrs:{name:"el-fade-in-linear"}},[t.ishow(e.AID)?n("img",{attrs:{src:a(1038),id:"love"}}):t._e(),t.isBlack(e.AID)?n("div",{attrs:{id:"black"}},[t._v(" 黑名单 ")]):t._e()]):t._e(),n("span",{attrs:{id:"NewTitle"}},[t._v(t._s(e.NewTitle))])],1),n("div",{attrs:{id:"Title"}},[n("span",[t._v(t._s(e.Title))])])])],1)])})),1)],1)},u=[],p=a(9669),m=a.n(p),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"info"}},[a("span",[t._v(t._s(t.msg))]),a("span",{style:{color:t.acg_colos[t.info_num]}},[t._v(t._s(t.acg_type[t.info_num]))])])},h=[];const g=["#e62d73","#0089ff","#fff233","#19ffa8","#8600cc","#00024d","#fbd7be"],_=["#e62d73","#0089ff","#b3a700","#19ffa8","#8600cc","#00024d","#c8a992"],y=["喜欢","准备看","没看完","已看完","不想看","黑名单","正在看"],v=Array(y.length).fill(!1),w="https://www.agemys.com";var S,b,A={acg_colos:g,acg_type:y,type_sw:v,Main_url:w,acg_colos_info:_},k=A,x=a(1001),D=(0,x.Z)(k,S,b,!1,null,null,null),I=D.exports,O={name:"Info_",props:{info_json:[],info_AID:String,info_num:Number},data(){return{msg:"添加:",acg_type:I.acg_type,acg_colos:I.acg_colos_info}},mounted(){var t=0,e=-1,a=JSON.parse(window.localStorage.getItem(this.info_AID));null!=a?(t=a.love,e=a.type,0!=a.love&&this.info_num==a.love-1||0!=a.love&&this.info_num==a.love+6?(t=0,0!=a.type&&5!=a.type||(e=-1),this.msg="取消:"):(e=this.info_num,0==this.info_num?(t=1,e=a.type):5==this.info_num&&(t=-1,e=a.type),a.type==this.info_num&&(this.msg="取消:",e=-1))):(e=this.info_num,0==this.info_num?t=1:5==this.info_num&&(t=-1));var n={name:this.info_AID,type:e,love:t,Josn_Data:this.info_json};n=JSON.stringify(n),window.localStorage.setItem(this.info_AID,n)},methods:{}},T=O,N=(0,x.Z)(T,f,h,!1,null,null,null),J=N.exports,$={name:"Data_",Info_box:J,props:{Data_type:String},data(){return{josn_data:JSON,mian_url:I.Main_url,acg_colos:I.acg_colos,reload:!0,demo:!1,title:"",AID:0,showdata:[],sw:!0,MAXnum:20,page:1}},methods:{reshow(t){var e=JSON.parse(window.localStorage.getItem("type_sw"));if(null!=e){var a=JSON.parse(window.localStorage.getItem(t));if(null!=a){for(let t=0;t<e.length;t++)if(e[t]&&a.type==t)return!1;return!0}return!0}return!0},type_color(t){var e=JSON.parse(window.localStorage.getItem(t));if(null!=e)return-1==e.type||0==e.type||5==e.type?void 0:this.acg_colos[e.type]},reload_(){this.reload=!1,this.$nextTick((()=>{this.reload=!0}))},isBlack(t){var e=JSON.parse(window.localStorage.getItem(t));if(null!=e&&-1==e.love)return!0},ishow(t){var e=JSON.parse(window.localStorage.getItem(t));if(null!=e&&1==e.love)return!0},up(t,e,a){this.josn_data=a,this.AID=t,this.title=e},move(t){const e=this.$createElement;let a=t.target,n=t.clientX-a.offsetLeft,o=t.clientY-a.offsetTop;document.ondragenter=t=>{let a=t.clientX-n,i=t.clientY-o;document.ondragend=t=>{console.log(a+"  "+i+"  "+t.target.draggable),document.ondragenter=null,document.ondragend=null;let n=-1;a>80&&i<-80?n=6:a<-80&&i>80?n=5:a>80&&i>80?n=4:a>100&&a>i?n=0:a<-100&&a<i?n=1:i<-100&&i<a?n=2:i>100&&i>a&&(n=3),-1!=n&&this.$notify.info({title:"「"+this.title+"」",message:e(J,{attrs:{info_num:n,info_AID:this.AID,info_json:this.josn_data}}),showClose:!1,duration:1e3}),this.reload_(),this.runstart(this.showdata,0)}}},runstart(t,e){var a=t;if(0==e&&(this.showdata=[]),null!=a)for(let n=0;n<a.length;n++)this.reshow(a[n].AID)&&(this.showdata=this.showdata.concat(a[n]))},autoadd(){if(document.querySelector("#app > div > section > section > main >div").offsetHeight<document.querySelector("#app > div > section > section > main ").offsetHeight&&20*this.page<this.MAXnum){var t=this;this.page++,m().get("https://api.agefans.app/v2/"+t.Data_type+"?page="+t.page+"&size=20").then((e=>{t.MAXnum=e.data.AllCnt,t.runstart(e.data.AniPre,1),t.sw=!0})).catch((e=>{console.log(e),t.errored=!0})).finally((()=>t.loading=!1))}},setatag(){this.$nextTick((()=>{const t=document.querySelectorAll("a[href]");t.forEach((t=>{t.addEventListener("click",(()=>{t.src=t.getAttribute("href")}))}))}))}},mounted(){var t=this;m().get("https://api.agefans.app/v2/"+this.Data_type+"?page=1&size=20").then((e=>{this.MAXnum=e.data.AllCnt,this.runstart(e.data.AniPre,1),setTimeout((function(){t.autoadd(),t.setatag()}),500)})).catch((t=>{console.log(t),this.errored=!0})).finally((()=>this.loading=!1)),window.onresize=()=>{this.autoadd()},document.querySelector("#app > div > section > section > main ").addEventListener("scroll",(function(){document.querySelector("#app > div > section > section > main").scrollTop+window.innerHeight>=document.querySelector("#app > div > section > section > main >div").offsetHeight&&20*t.page<t.MAXnum&&1==t.sw&&(t.page++,m().get("https://api.agefans.app/v2/"+t.Data_type+"?page="+t.page+"&size=20").then((e=>{t.MAXnum=e.data.AllCnt,t.runstart(e.data.AniPre,1),t.sw=!0})).catch((e=>{console.log(e),t.errored=!0})).finally((()=>t.loading=!1)),t.sw=!1)}))}},j=$,C=(0,x.Z)(j,d,u,!1,null,null,null),E=C.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",{attrs:{draggable:"false"}},[n("Check_teyp",{on:{get_type:function(e){return t.get_type(e)}}}),n("transition-group",{attrs:{name:"el-zoom-in-center"}},t._l(t.showdata,(function(e){return n("el-col",{key:e.AID,attrs:{span:3,draggable:"true"},nativeOn:{mousedown:function(e){return t.move.apply(null,arguments)},dragend:function(a){return t.up(e.AID,e.Title,e)}}},[n("a",{attrs:{href:t.mian_url+e.Href,target:"_blank"}},[n("el-card",{staticStyle:{border:"none"},attrs:{"body-style":{padding:"0px",background:t.type_color(e.AID)}}},[n("div",{staticStyle:{position:"relative"}},[n("img",{staticClass:"image",staticStyle:{"border-radius":"3px 3px 0px 0px"},attrs:{draggable:"false",src:e.PicSmall,width:"100%"}}),t.reload?n("transition",{attrs:{name:"el-fade-in-linear"}},[t.ishow(e.AID)?n("img",{attrs:{src:a(1038),id:"love"}}):t._e(),t.isBlack(e.AID)?n("div",{attrs:{id:"black"}},[t._v(" 黑名单 ")]):t._e()]):t._e(),n("span",{attrs:{id:"NewTitle"}},[t._v(t._s(e.NewTitle))])],1),n("div",{attrs:{id:"Title"}},[n("span",[t._v(t._s(e.Title))])])])],1)])})),1)],1)},H=[],P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-radio-group",{model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},t._l(t.acg_type,(function(e,n){return a("el-radio",{key:n,staticClass:"radio",attrs:{label:n},on:{change:t.sendmsg}},[t._v(t._s(e))])})),1)],1)},X=[],q={name:"CheckTeyp",data(){return{acg_type:I.acg_type,radio:0}},mounted(){},methods:{sendmsg(){this.$emit("get_type",this.radio)}}},L=q,z=(0,x.Z)(L,P,X,!1,null,"4d3d078d",null),Z=z.exports,B={components:{Check_teyp:Z},name:"Love_",data(){return{mian_url:I.Main_url,acg_colos:I.acg_colos,See_type:0,josn_data:{},reload:!0,demo:!1,title:"",AID:0,showdata:[],sw:!0,MAXnum:20,itemnum:1,Allnum:0}},methods:{type_color(t){var e=JSON.parse(window.localStorage.getItem(t));if(null!=e)return-1==e.type||0==e.type||5==e.type?void 0:this.acg_colos[e.type]},reload_(){this.reload=!1,this.$nextTick((()=>{this.reload=!0}))},isBlack(t){var e=JSON.parse(window.localStorage.getItem(t));if(null!=e&&-1==e.love)return!0},ishow(t){var e=JSON.parse(window.localStorage.getItem(t));if(null!=e&&1==e.love)return!0},up(t,e,a){this.AID=t,this.title=e,this.josn_data=a},redata(){let t=window.localStorage.length;for(let a=this.Allnum;a<t;a++){this.Allnum++;let t=window.localStorage.key(a);if("type_sw"==t||"bg"==t)continue;let n=JSON.parse(window.localStorage.getItem(t));if(null!=n.Josn_Data){var e=!1;if((-1!=n.type||0!=n.love)&&(this.See_type==n.type?(this.showdata=this.showdata.concat(n.Josn_Data),e=!0):(0==this.See_type&&1==n.love&&(this.showdata=this.showdata.concat(n.Josn_Data),e=!0),5==this.See_type&&-1==n.love&&(this.showdata=this.showdata.concat(n.Josn_Data),e=!0)),e&&(this.itemnum++,this.itemnum>=this.MAXnum)))return void this.itemnum}}},move(t){const e=this.$createElement;let a=t.target,n=t.clientX-a.offsetLeft,o=t.clientY-a.offsetTop;document.ondragenter=t=>{let a=t.clientX-n,i=t.clientY-o;document.ondragend=()=>{document.ondragenter=null,document.ondragend=null;let t=-1;a>80&&i<-80?t=6:a<-80&&i>80?t=5:a>80&&i>80?t=4:a>100&&a>i?t=0:a<-100&&a<i?t=1:i<-100&&i<a?t=2:i>100&&i>a&&(t=3),-1!=t&&(this.reload_(),this.$notify.info({title:"「"+this.title+"」",message:e(J,{attrs:{info_num:t,info_AID:this.AID,info_json:this.josn_data}}),showClose:!1,duration:1e3}),this.showdata=[],this.Allnum=0,this.itemnum=1,this.redata(),this.autoadd())}}},get_type(t){this.showdata=[],this.itemnum=1,this.MAXnum=20,this.Allnum=0,this.See_type=t,this.$nextTick((()=>{this.redata()}));var e=this;setTimeout((function(){e.autoadd()}),500)},autoadd(){document.querySelector("#app > div > section > section > main >div").offsetHeight<document.querySelector("#app > div > section > section > main ").offsetHeight&&(this.itemnum=1,this.redata())}},mounted(){var t=this;this.showdata=[],this.redata(),setTimeout((function(){t.autoadd()}),500),window.onresize=()=>{this.autoadd()},document.querySelector("#app > div > section > section > main ").addEventListener("scroll",(function(){document.querySelector("#app > div > section > section > main").scrollTop+window.innerHeight>=document.querySelector("#app > div > section > section > main >div").offsetHeight&&(t.itemnum=1,t.redata())}))}},Y=B,F=(0,x.Z)(Y,M,H,!1,null,null,null),R=F.exports,G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",[a("el-col",{attrs:{id:"setting",span:10}},[a("transition-group",{attrs:{name:"el-fade-in-linear"}},[a("el-card",{key:0,attrs:{"body-style":{padding:"0px"}}},t._l(t.acg_type,(function(e,n){return a("el-col",{key:n},[a("el-switch",{on:{change:t.save_data},model:{value:t.type_sw[n],callback:function(e){t.$set(t.type_sw,n,e)},expression:"type_sw[index]"}}),a("span",[t._v("隐藏")]),a("span",{style:{color:t.acg_colos[n]}},[t._v(t._s(e))])],1)})),1),a("el-card",{key:1,attrs:{"body-style":{padding:"0px"}}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"#","on-exceed":t.handleExceed,"on-error":t.handlesuccess,multiple:"",limit:1}},[a("el-button",{attrs:{size:"small",type:"primary"}},[t._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("上传json文件")])],1)],1),a("el-card",{key:2,attrs:{"body-style":{padding:"0px"}}},[a("el-button",{attrs:{type:"primary",icon:"el-icon-download"},on:{click:t.put_outJson}},[t._v(" 导出数据")])],1),a("el-card",{key:3,attrs:{"body-style":{padding:"0px"}}},[a("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:t.deleteAll}},[t._v(" 清除所有")])],1)],1)],1)],1)},K=[],Q=a(3162),U=a.n(Q),V={name:"Setting_page",data(){return{uploadData:[],fileList:[],reload:!0,acg_colos:I.acg_colos,acg_type:I.acg_type,type_sw:I.type_sw}},mounted(){null!=window.localStorage.getItem("type_sw")&&(this.type_sw=JSON.parse(window.localStorage.getItem("type_sw")))},methods:{reload_(){this.reload=!1,this.$nextTick((()=>{this.reload=!0}))},save_data(){window.localStorage.setItem("type_sw",JSON.stringify(this.type_sw))},deleteAll(){this.$confirm("此操作将永久清除所有内容, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{window.localStorage.clear(),location.reload(),this.$message({type:"success",message:"删除成功!"})})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},put_outJson(){let t=window.localStorage.length;var e=[];for(let n=0;n<t;n++){let t=window.localStorage.key(n);"type_sw"!=t&&"bg"!=t&&(e=e.concat(JSON.parse(window.localStorage.getItem(t))))}e=JSON.stringify(e);var a=new Blob([e],{type:"application/json"});U().saveAs(a,"备份.json")},handlesuccess(t,e){let a=new FileReader;a.readAsText(e.raw),a.onload=t=>{this.uploadData=[],this.uploadData=JSON.parse(t.target.result),this.$nextTick((()=>{console.log(this.uploadData),window.localStorage.clear();for(let t=0;t<this.uploadData.length;t++)window.localStorage.setItem(this.uploadData[t].name,JSON.stringify(this.uploadData[t]));this.$message({message:"数据导入成功",type:"success"})}))}},handleExceed(){this.$message.warning("只能选择 1 个文件")}}},W=V,tt=(0,x.Z)(W,G,K,!1,null,"3dc1663f",null),et=tt.exports,at={name:"Home_M",data(){return{APPName:"白鷺茶室",data_type:"recommend",item:1,reload:!0,bg_sw:!0}},components:{Data:E,Love:R,Setting:et},methods:{setbg(){this.bg_sw=!this.bg_sw}},mounted(){}},nt=at,ot=(0,x.Z)(nt,r,c,!1,null,"44e015a0",null),it=ot.exports,st={name:"App",components:{Home:it},data(){return{}},mounted(){}},lt=st,rt=(0,x.Z)(lt,s,l,!1,null,null,null),ct=rt.exports,dt=a(3748),ut=a.n(dt);n["default"].use(i()),n["default"].use(ut()),n["default"].config.productionTip=!1,n["default"].directive("title",{inserted:function(t){document.title=t.dataset.title}}),new n["default"]({render:t=>t(ct)}).$mount("#app")},1038:function(t,e,a){t.exports=a.p+"img/heart.9028b26f.svg"}},e={};function a(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n].call(i.exports,i,i.exports,a),i.exports}a.m=t,function(){var t=[];a.O=function(e,n,o,i){if(!n){var s=1/0;for(d=0;d<t.length;d++){n=t[d][0],o=t[d][1],i=t[d][2];for(var l=!0,r=0;r<n.length;r++)(!1&i||s>=i)&&Object.keys(a.O).every((function(t){return a.O[t](n[r])}))?n.splice(r--,1):(l=!1,i<s&&(s=i));if(l){t.splice(d--,1);var c=o();void 0!==c&&(e=c)}}return e}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[n,o,i]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p=""}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,i,s=n[0],l=n[1],r=n[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(r)var d=r(a)}for(e&&e(n);c<s.length;c++)i=s[c],a.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return a.O(d)},n=self["webpackChunkayaka_tearoom"]=self["webpackChunkayaka_tearoom"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(6846)}));n=a.O(n)})();
//# sourceMappingURL=app.40cefb4c.js.map